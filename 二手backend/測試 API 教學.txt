å‰ç½®æº–å‚™

é–‹å•Ÿä½ çš„å¾Œç«¯ä¼ºæœå™¨
node server.js
â†’ å‡ºç¾ âœ… è³‡æ–™åº«é€£ç·šæˆåŠŸ æˆ– Server is running on port xxxx è¡¨ç¤ºæˆåŠŸå•Ÿå‹•

æ‰“é–‹ Postman

æ¸¬è©¦ API æ•™å­¸

â‘  è¨»å†Šå¸³è™Ÿ /api/auth/registerï¼ˆPOSTï¼‰
é–‹ Postmanï¼Œå·¦ä¸Šè§’é¸æ“‡ POST

URL è¼¸å…¥ï¼š
http://localhost:3000/api/auth/register
é»é¸ Body â†’ é¸ raw â†’ é¸æ“‡æ ¼å¼ç‚º JSON

è¼¸å…¥ä»¥ä¸‹ JSON æ¸¬è©¦è³‡æ–™ï¼ˆè¨˜å¾—è¦ç”¨å­¸æ ¡ emailï¼‰ï¼š

{
  "name": "å°ç‹",
  "email": "testouo123@ntub.edu.tw",
  "password": "123456",
  "user_type": "buyer"
}
é»æ“Š Send

æˆåŠŸæœƒå›å‚³ï¼š
{
  "message": "è¨»å†ŠæˆåŠŸï¼Œè«‹è‡³ä¿¡ç®±å®Œæˆé©—è­‰"
}


â‘¡ ç™»å…¥ /api/auth/loginï¼ˆPOSTï¼‰
æ–°å¢ä¸€å€‹ POST è«‹æ±‚

URLï¼š
http://localhost:3000/api/auth/login
Body â†’ raw â†’ JSON æ ¼å¼ï¼š
{
  "email": "testouo123@ntub.edu.tw",
  "password": "123456"
}

Send â†’ è‹¥æœªé©—è­‰æœƒæç¤º å°šæœªå®Œæˆä¿¡ç®±é©—è­‰


â‘¢ é©—è­‰ä¿¡ç®± /api/auth/verifyï¼ˆGETï¼‰
åˆ°ä¿¡ç®±æ‰¾åˆ°é©—è­‰é€£çµï¼Œä¾‹å¦‚ï¼š
http://localhost:3000/api/auth/verify?token=xxxx
åœ¨ç€è¦½å™¨è²¼ä¸Šæ‰“é–‹ï¼Œå³å¯å®Œæˆé©—è­‰ âœ…


â‘£ å¿˜è¨˜å¯†ç¢¼ /api/auth/forgot-passwordï¼ˆPOSTï¼‰
æ–°å¢ä¸€å€‹ POST è«‹æ±‚

URLï¼š
http://localhost:3000/api/auth/forgot-password
Body â†’ raw â†’ JSONï¼š
{
  "email": "testouo123@ntub.edu.tw"
}
æˆåŠŸæœƒå›å‚³ï¼š
{
  "message": "é‡è¨­å¯†ç¢¼é€£çµå·²å¯„å‡ºï¼Œè«‹è‡³ä¿¡ç®±æŸ¥æ”¶"
}


â‘¤ é‡è¨­å¯†ç¢¼ /api/auth/reset-passwordï¼ˆPOSTï¼‰
æ‰¾ä¿¡ç®±æ”¶åˆ°çš„é‡è¨­é€£çµï¼Œä¾‹ï¼š
http://localhost:3000/reset-password?token=xxxxxx
è¤‡è£½ tokenï¼ˆåªè¦é‚£ä¸€æ®µå­—ä¸²ï¼‰

åœ¨ Postman æ–°å¢ POST è«‹æ±‚ï¼š
http://localhost:3000/api/auth/reset-password
Body â†’ raw â†’ JSONï¼š
{
  "token": "é€™è£¡è²¼ä¸Šä¿¡ä¸­ token",
  "newPassword": "æ–°å¯†ç¢¼123"
}
Send â†’ æˆåŠŸæœƒå›å‚³ï¼š
{
  "message": "å¯†ç¢¼é‡è¨­æˆåŠŸï¼Œè«‹é‡æ–°ç™»å…¥"
}


æ¸¬è©¦ resetPasswordï¼ˆæœªç™»å…¥ç‹€æ…‹ï¼Œå¾ä¿¡ç®±é€£çµä¾†ï¼‰
ğŸ” æ¸¬è©¦æµç¨‹ï¼š
å…ˆç™¼é€ forgot-password è«‹æ±‚ï¼š

æ–¹æ³•ï¼šPOST

URLï¼šhttp://localhost:3000/api/auth/forgot-password

Body â†’ JSONï¼š
{
  "email": "ä½ çš„è¨»å†Šä¿¡ç®±@ntub.edu.tw"
}
åˆ° Gmail æŸ¥æ”¶ä¿¡ä»¶ï¼Œè£¡é¢æœ‰ token çš„é€£çµ

é€£çµæ ¼å¼å¤§æ¦‚æ˜¯ï¼š
http://localhost:3000/api/auth/reset-password?token=xxx
ä½ è¦è¤‡è£½é‚£å€‹ token å€¼ï¼ˆå°±æ˜¯é‚£æ®µäº‚ç¢¼ï¼‰

ç™¼é€ reset-password è«‹æ±‚ï¼š

æ–¹æ³•ï¼šPOST

URLï¼šhttp://localhost:3000/api/auth/reset-password

Body â†’ JSONï¼š
{
  "token": "å‰›å‰›ä¿¡è£¡è¤‡è£½çš„ token",
  "newPassword": "ä½ çš„æ–°å¯†ç¢¼"
}


æ¸¬è©¦ updatePasswordï¼ˆç™»å…¥ç‹€æ…‹ä¸‹ä¿®æ”¹å¯†ç¢¼ï¼‰
ğŸ” æ¸¬è©¦æµç¨‹ï¼š
å…ˆç™»å…¥å–å¾— JWT tokenï¼š

æ–¹æ³•ï¼šPOST

URLï¼šhttp://localhost:3000/api/auth/login

Body â†’ JSONï¼š
{
  "email": "ä½ çš„è¨»å†Šä¿¡ç®±@ntub.edu.tw",
  "password": "ç›®å‰çš„å¯†ç¢¼"
}
å›å‚³çµæœæœƒåŒ…å«ä¸€å€‹ tokenï¼Œä¾‹å¦‚ï¼š
{
  "message": "ç™»å…¥æˆåŠŸ",
  "token": "eyJhbGciOiJIUzI1NiIsInR..."
}
è¤‡è£½é€™å€‹ tokenï¼Œä¸¦åœ¨ Postman çš„ Header åŠ å…¥ï¼š

Key	Value
Authorization	Bearer ä½ çš„token

ç™¼é€ update-password è«‹æ±‚ï¼š

æ–¹æ³•ï¼šPOST

URLï¼šhttp://localhost:3000/api/auth/update-password

Headersï¼š
Authorization: Bearer <ä½ çš„JWT>
Body â†’ JSONï¼š
{
  "currentPassword": "ç›®å‰çš„å¯†ç¢¼",
  "newPassword": "æ–°çš„å¯†ç¢¼"
}



